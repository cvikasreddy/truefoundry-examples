template: truefoundry.com/v1/fastapi
parameters:
  service_name: sklearn-iris
  python_version: python:3.9
  workspace: v1:tfy-dub-euwe1-production:chirag-workspace-1
  replicas: 1
  port: 8000
overwrites:
  Component.spec.container.env:
    - name: TFY_RUN_ID
      value: 990e3773eb5d4f8dbba3e714c7868eaa
  Component.spec.container.injectApiKeyInEnv: true
#  To use your own docker file:
#  BuildPack.spec.docker.overwrite: false
#  
#  To customize the docker file:
#  BuildPack.spec.docker.dockerFileContent: |
#    # This file is generated from service foundry. Don't make changes directly.
#    FROM ${parameters.python_version}
#    COPY . ./app
#    COPY ./requirements.txt ./requirements.txt
#    RUN pip install -r ./requirements.txt
#    WORKDIR app
#    ENTRYPOINT uvicorn main:app --host 0.0.0.0 --port ${parameters.port}
#  
#  To change the run command when you run the service locally
#  BuildPack.spec.localRunCommand: uvicorn main:app --host 127.0.0.1 --port ${parameters.port}
#  
#  To change the required cpu
#  Component.spec.container.resources.cpu.required: 0.5
#  
#  To change the maximum cpu
#  Component.spec.container.resources.cpu.limit: 0.5
#  
#  To change the required memory
#  Component.spec.container.resources.memory.required: 512000000
#  
#  To change the maximum memory
#  Component.spec.container.resources.memory.limit: 512000000
#  
#  To change the number of replica
#  Component.spec.traits.scale.replicas: "${parameters.replicas}"
#  
#  To change the port which are open from container
#  Component.spec.container.ports:
#    - containerPort: ${parameters.port}
#      protocol: TCP
